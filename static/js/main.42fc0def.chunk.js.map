{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Loader/Loader.module.css","App.module.css","ImgApi.js","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Modal/Modal.js","Button/Button.js","Loader/Loader.js","App.js","index.js","Searchbar/Searchbar.module.css"],"names":["module","exports","fetchHits","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","query","inputChange","e","setState","currentTarget","value","inputSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","onClick","tags","src","alt","ImageGalleryItemImage","ImageGallery","onOpenModalImg","map","id","largeImageURL","modalRoot","document","querySelector","Modal","onKeyDown","code","onClose","onOverlayClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","Button","button","Spiner","color","loader","App","isLoading","showModal","error","onChangeQuery","options","ImgApi","prevState","catch","finally","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","Loader","length","ReactDOM","render","StrictMode","getElementById","fetch","res","json","result","console","log"],"mappings":"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","file":"static/js/main.42fc0def.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Nczto\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1_5Nm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__H9unx\",\"modal\":\"Modal_modal__2mHeJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Qqmo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__fTZ3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3kKOH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1U3Xa\"};","import axios from 'axios';\r\nconst KEY = '21944568-357b711266e3368e889ab4e4f';\r\n\r\nconst fetchHits = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n    return axios\r\n        .get(\r\n        `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n    )\r\n    .then(response =>response.data.hits)\r\n}\r\n\r\nexport default fetchHits;","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: ''\r\n    }\r\n\r\n    inputChange = e => {\r\n        this.setState({query:e.currentTarget.value})\r\n    }\r\n\r\n    inputSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({query:''})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form\r\n                    className={styles.SearchForm}\r\n                    onSubmit={this.inputSubmit}\r\n                >\r\n                    <button type=\"submit\" className={styles.SearchFormButton}>\r\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.SearchFormInput}\r\n                        type=\"text\"\r\n                        value={this.state.query}\r\n                        onChange={this.inputChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({webformatURL, onClick,tags})=> {\r\n    return (\r\n        <li className={styles.ImageGalleryItem}>\r\n            <img\r\n                src={webformatURL}\r\n                alt={tags}\r\n                className={styles.ImageGalleryItemImage}\r\n                onClick={onClick}    \r\n            />\r\n        </li>\r\n    )\r\n}\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({hits, onOpenModalImg})=> {\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            {hits.map(({ id, webformatURL, largeImageURL }) => {\r\n                const onImgClick=()=>onOpenModalImg(largeImageURL)\r\n                return (\r\n                    <li key={id}>\r\n                        <ImageGalleryItem\r\n                            webformatURL={webformatURL}\r\n                            onClick={onImgClick}\r\n                        />\r\n                    </li>\r\n                )\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\nImageGallery.propTypes = {\r\n    hits: PropTypes.array.isRequired,\r\n    onOpenModalImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.onKeyDown)\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.onKeyDown)\r\n    };\r\n\r\n    onKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        };\r\n    };\r\n\r\n    onOverlayClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        };\r\n    };\r\n\r\n    render() {\r\n        return createPortal (\r\n            <div className={styles.overlay} onClick={this.onOverlayClick}>\r\n                <div className={styles.modal}>\r\n                    <img\r\n                        src={this.props.src}\r\n                        alt={this.props.alt}\r\n                    ></img>\r\n                </div>\r\n            </div>,\r\n            modalRoot\r\n        );\r\n    };\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onClick }) => (\r\n    <button className={styles.button} type=\"button\" onClick={onClick}>\r\n        Load more\r\n    </button>\r\n    );\r\n\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst Spiner = () => (\r\n    <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        className={styles.loader}\r\n    />\r\n);\r\n\r\nexport default Spiner;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImgApi from './ImgApi';\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Modal from './Modal';\nimport Button from './Button';\nimport Loader from './Loader';\nimport  './App.module.css';\n\n\n\nclass App extends Component {\n  static propTypes = {\n    hits: PropTypes.array,\n    searchQuery: PropTypes.string,\n    currentPage: PropTypes.number,\n    isLoading: PropTypes.bool,\n    showModal: PropTypes.bool,\n    tags: PropTypes.string,\n    error: PropTypes.string,\n    largeImageURL: PropTypes.string\n  }\n\n  state = {\n    hits: [],\n    searchQuery: '',\n    currentPage: 1,\n    isLoading: false,\n    showModal: false,\n    tags: '',\n    error: '',\n    largeImageURL:''\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits()\n    }\n\n    if (this.state.searchQuery !== 2 && prevState.currentPage !== this.state.currentPage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  \n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null\n    })\n  }\n\n  fetchHits = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = {\n      searchQuery,\n      currentPage\n    }\n    \n    this.setState({ isLoading: true })\n    \n    ImgApi(options).then(hits => {\n      this.setState(prevState => ({\n        hits: [...prevState.hits, ...hits],\n        currentPage:prevState.currentPage + 1\n      }))\n    })\n      .catch(error => this.setState({ error: 'No pictures found' })).finally(() => this.setState({\n        isLoading:false\n      }))\n  }\n\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal\n    }));\n  }\n\n  onOpenModalImg = (largeImageURL = '') => {\n    this.setState({largeImageURL});\n    this.toggleModal();\n  };\n\n\n  render() {\n    const { hits, isLoading, showModal, largeImageURL, tags, error } = this.state;\n    return (\n      <>\n        <Searchbar\n          onSubmit={this.onChangeQuery}\n        />\n        {error && <p>{error}</p>}\n\n        <ImageGallery\n          hits={hits}\n          onOpenModalImg={this.onOpenModalImg}\n        />\n\n        {isLoading &&\n          <Loader />}\n        {hits.length > 11 && !isLoading && (\n          <Button onClick={this.fetchHits}/>\n        )}\n\n        {showModal && (\n          <Modal\n            src={largeImageURL}\n            alt={tags}\n            onClose={this.onOpenModalImg}\n          />\n\n        )}\n      </>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nfetch(\"https://api.hubstaff.com/v2/users/me/\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          console.log(result)\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2nPLW\",\"SearchForm\":\"Searchbar_SearchForm__w_k6g\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21mXX\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Vcsc\",\"SearchFormInput\":\"Searchbar_SearchFormInput__37tAi\"};"],"sourceRoot":""}